webpackJsonp([16],{EjCO:function(e,o){},GF4k:function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var s=t("mvHQ"),n=t.n(s),r=t("n5Qe"),i={data:function(){return{code:"",state:"",school:"",user_id:""}},created:function(){this.$toast.loading("登录中..."),console.log(window.location),this.code=r.o("code"),this.state=r.o("state"),this.school=r.o("school"),this.user_id=r.o("user_id"),console.log("code="+this.code),console.log("state="+this.state),this.code?this.GetOpenId():r.u(this.state)},methods:{GetOpenId:function(e){var o=this;r.m({name:"校园安全系统",code:o.code},function(e){console.log("获取OpenId"),console.log(e.data),"ok"==e.msg?(sessionStorage.setItem("openId",e.data),"empty-1"===o.state?o.$router.push("/empty-1?school="+sessionStorage.getItem("school")+"&user_id="+sessionStorage.getItem("user_id")+"&open_id="+sessionStorage.getItem("openId")):"empty"===o.state?o.$router.push("/empty?school="+sessionStorage.getItem("school")+"&user_id="+sessionStorage.getItem("user_id")+"&open_id="+sessionStorage.getItem("openId")):o.$router.push("/"+o.state)):o.$toast.fail("请关注公众号")})},GetUserInfo:function(){var e=this;r.p({user_openid:sessionStorage.getItem("openId")},function(o){console.log("11111,用户信息"),console.log(o.user),"ok"===o.msg?(sessionStorage.setItem("userInfor",n()(o.user)),r.d.userInfor=o.user,e.$router.push("/personal")):(console.log("2222,用户信息"),e.$router.push("/userInfo"))})}}},a={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"login-wrap"})},staticRenderFns:[]};var c=t("VU/8")(i,a,!1,function(e){t("EjCO")},"data-v-2359ad05",null);o.default=c.exports}});