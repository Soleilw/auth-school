webpackJsonp([16],{GF4k:function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=t("mvHQ"),n=t.n(s),c=t("n5Qe"),i={data:function(){return{code:"",state:"",school:"",user_id:""}},created:function(){console.log(1),this.$toast.loading("登录中..."),console.log(window.location),this.code=c.n("code"),this.state=c.n("state"),this.school=c.n("school"),this.user_id=c.n("user_id"),console.log("code="+this.code),console.log(11,"state="+this.state),this.code?(console.log(2),this.GetOpenId(this.code)):(console.log(3),c.t(this.state))},methods:{GetOpenId:function(o){console.log(4);this.$axios.post("https://school.fengniaotuangou.cn/api/mandate/school",{name:"校园安全系统",code:this.code}).then(function(o){console.log("获取OpenId"),console.log(callback.data)})},GetUserInfo:function(){var o=this;c.o({user_openid:sessionStorage.getItem("openId")},function(e){console.log("11111,用户信息"),console.log(e.user),"ok"===e.msg?(sessionStorage.setItem("userInfor",n()(e.user)),c.d.userInfor=e.user,o.$router.push("/personal")):(console.log("2222,用户信息"),o.$router.push("/userInfo"))})}}},l={render:function(){var o=this.$createElement;return(this._self._c||o)("div",{staticClass:"login-wrap"})},staticRenderFns:[]};var a=t("VU/8")(i,l,!1,function(o){t("dLNq")},"data-v-1bb51a19",null);e.default=a.exports},dLNq:function(o,e){}});